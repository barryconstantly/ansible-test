---
- name: NetIM Rollback Playbook
  hosts: localhost
  gather_facts: no

  tasks:
  - name: NetIM Rollback Request (to Ansible REST API)
    debug: 
      msg: "NetIM Requested a Rollback, will retrieve the previous config file for {{ "deviced_archive_file_path" }}"

  - name: Retrieve Rollback Config File from NetIM (to NetIM REST API)
    debug:
      msg: "Retrieved previous config file from NetIM for {{ deviced_archive_file_path }}"

  - name: Push Previous Config File (SSH to router)
    debug:
      msg: "{{ deviced_archive_file_path }} roll-back was successful!"
